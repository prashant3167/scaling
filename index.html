<html class="no-js">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
           <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/reset.css" />
    <link rel="stylesheet" type="text/css" href="css/demo.css" />
    <link rel="stylesheet" type="text/css" href="css/component.css" />
    <script src='./javascript/dir.php'></script>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600' rel='stylesheet' type='text/css'>
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
	<script src="javascript/modernizr.js"></script>
	<script src="javascript/insert.js"></script>
  <script>

      function transpose(matrix) {
  return matrix[0].map((col, i) => matrix.map(row => row[i]));
}
		var d={};
	function abc(file){
		 d3.text(file,function(data) {
				d[file] = transpose(d3.csv.parseRows(data));
				// console.log(parsedCSV);
				insert_compare(d[file],file);

              if($.trim( $('.cd-products-table .features .cd-features-list').text() ).length == 0)
        {
    let parameters=d[file];
    parameters=parameters[0].slice(1,);

            d3.select(".features ul")
                .selectAll("li")
                .data(parameters)
                .enter()
                .append("li")
                .text(function(d) { return d; });
        }
			});
			
	}
  async function get_all_files()
{
  document.getElementsByClassName("versions")[0].style.display="none";
  document.getElementsByClassName("HealthBot_Version")[0].style.display="none";
  document.getElementsByClassName("Compare")[0].style.display="none";
//	document.getElementsByClassName("Details")[0].style.display="block";
	document.getElementsByClassName("Compare_div")[0].style.display="block";
	document.getElementsByTagName("HTML")[0].style.fontSize="75%";

	for (let i=0;i<files.length;i++)
		{
			let file = "files/" + files[i] + ".csv";
			abc(file);
		}

	// let key=Object.keys(d);
	// insert_compare();
}
  </script>
</head>

<body>
    <div class="versions">
        <label for="classic">
            <h2>HealthBot Version</h2>
        </label>
        <select class="classic" onchange="select_trigger()">
        </select>
        <br>
        <br>
        
    </div>

        <table class="HealthBot_Version" id="exceltable">
        </table>
    <div class="button Compare" style="position:absolute;right:3rem;top:1rem">Compare</div>

		<div class="Compare_div" style="display:none">
	<!--	<label for="Comparison">Select Version for Comparison</label>
    <div class="Comparison">
    </div>
    <div class="button" style="position:absolute;right:3rem">Filter</div>
    <table id="CompareTable"></table>
-->
    	<section class="cd-products-comparison-table">
		<header>
			<h2>Compare Models</h2>

			<div class="actions">
				<a href="#0" class="reset">Reset</a>
				<a href="#0" class="filter">Filter</a>
			</div>
		</header>

		<div class="cd-products-table">
			<div class="features">
				<div class="top-info">Properties</div>
				<ul class="cd-features-list">
<!--
					<li>Price</li>
					<li>Customer Rating</li>
					<li>Resolution</li>
					<li>Screen Type</li>
					<li>Display Size</li>
					<li>Refresh Rate</li>
					<li>Model Year</li>
					<li>Tuner Technology</li>
					<li>Ethernet Input</li>
					<li>USB Input</li>
					<li>Scart Input</li>
-->
				</ul>
			</div> <!-- .features -->
			
			<div class="cd-products-wrapper">
				<table class="cd-products-columns" id="version-columns">
					
				</table> <!-- .cd-products-columns -->
			</div> <!-- .cd-products-wrapper -->
			
			<ul class="cd-table-navigation">
				<li><a href="#0" class="prev inactive">Prev</a></li>
				<li><a href="#0" class="next">Next</a></li>
			</ul>
		</div> <!-- .cd-products-table -->
	</section> <!-- .cd-products-comparison-table -->
    </div>
    <script src="./javascript/get_table.js"></script>

<script src="./javascript/get_version.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
<script>
var button = document.querySelector('.button');

button.onclick = function () {
  get_all_files();
  window.scrollTo(0,document.body.scrollHeight);
 var head= document.getElementsByTagName('head')[0];
   var script= document.createElement('script');
   script.type= 'text/javascript';
   script.src= 'javascript/main.js';
   head.appendChild(script);
//  this.style.backgroundColor = "rgb(" + red + "," + green + "," + blue + ")";
};


// Math.floor(Math.random() * 256) [0-255]
// rgb(255,255,255)
</script>
<script src="javascript/jquery-2.1.4.js"></script>
<!-- <script src="javascript/main.js"></script> -->
</body>



</html>

<script src="./javascript/jquery.stickyheader.js"></script>
